{"version":3,"file":"BlogPage-25s_CiIC.js","sources":["../../src/components/BlogPage/BlogPage.jsx"],"sourcesContent":["// src/components/BlogPage/BlogPage.jsx\r\nimport React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport PageWrapper from '../Layout/PageWrapper';\r\nimport Section from '../Section/Section.jsx'; // Updated import to Section\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport { fetchBlogPosts } from '../../api'; // Ensure this path is correct\r\nimport { ROUTES } from '../../constants/index'; // Correct import path for ROUTES\r\n\r\nconst BLOG_POSTS_QUERY_KEY = 'blogPosts';\r\nconst POSTS_PER_PAGE = 5;\r\n\r\nconst BlogPage = () => {\r\n  const { data: posts, isLoading, isError, error } = useQuery(\r\n    [BLOG_POSTS_QUERY_KEY],\r\n    fetchBlogPosts,\r\n    { staleTime: 1000 * 60 * 5 } // Cache for 5 minutes\r\n  );\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  // Pagination logic\r\n  const totalPages = posts ? Math.ceil(posts.length / POSTS_PER_PAGE) : 0;\r\n  const paginatedPosts = posts\r\n    ? posts.slice((currentPage - 1) * POSTS_PER_PAGE, currentPage * POSTS_PER_PAGE)\r\n    : [];\r\n\r\n  const handleNextPage = () => {\r\n    if (currentPage < totalPages) setCurrentPage(currentPage + 1);\r\n  };\r\n\r\n  const handlePreviousPage = () => {\r\n    if (currentPage > 1) setCurrentPage(currentPage - 1);\r\n  };\r\n\r\n  // Enhanced Loading and Error States\r\n  const renderStatusMessage = (message, isErrorMsg = false) => (\r\n    <PageWrapper>\r\n      <div className=\"flex items-center justify-center min-h-[calc(100vh-200px)] text-center\">\r\n        <Section className=\"p-8 bg-white rounded-lg shadow-lg dark:bg-dark-bg\">\r\n          <p className={`text-xl ${isErrorMsg ? 'text-red-500 dark:text-red-400' : 'text-gray-700 dark:text-gray-300'}`}>\r\n            {message}\r\n          </p>\r\n        </Section>\r\n      </div>\r\n    </PageWrapper>\r\n  );\r\n\r\n  if (isLoading) return renderStatusMessage(\"Loading articles…\");\r\n  if (isError) return renderStatusMessage(`Error: ${error?.message || 'Failed to load blog posts'}`, true);\r\n\r\n  if (!posts || posts.length === 0) {\r\n    return renderStatusMessage(\"No blog posts found. Check back soon!\");\r\n  }\r\n\r\n  return (\r\n    <PageWrapper>\r\n      <div className=\"pt-header pb-section bg-gradient-to-br from-electric-blue to-indigo-500 dark:from-midnight-blue dark:to-rich-black\">\r\n        <div className=\"container px-4 mx-auto\">\r\n          {/* Hero Section */}\r\n          <Section\r\n            className=\"text-center mb-section\"\r\n            data-aos=\"fade-down\"\r\n            data-aos-duration=\"800\"\r\n          >\r\n            <h1 className=\"mb-4 text-4xl font-bold font-display lg:text-5xl text-soft-white\">\r\n              Our Blog\r\n            </h1>\r\n            <p className=\"max-w-2xl mx-auto text-lg leading-relaxed text-soft-white\">\r\n              Insights, tips, and updates on creativity, branding, web development, and marketing.\r\n            </p>\r\n          </Section>\r\n\r\n          {/* Posts List */}\r\n          <div className=\"space-y-8\">\r\n            {paginatedPosts.map(post => (\r\n              <article\r\n                key={post.id}\r\n                className=\"flex flex-col overflow-hidden transition-shadow duration-300 bg-white rounded-lg dark:bg-dark-bg bg-opacity-90 shadow-card dark:shadow-none md:flex-row group hover:shadow-lg\"\r\n                data-aos=\"fade-up\"\r\n                data-aos-duration=\"600\"\r\n              >\r\n                {post.image && (\r\n                  <div className=\"md:w-1/3 shrink-0\">\r\n                    <img\r\n                      src={post.image}\r\n                      alt={post.title}\r\n                      className=\"object-cover w-full h-48 transition-transform duration-300 md:h-full group-hover:scale-105\"\r\n                    />\r\n                  </div>\r\n                )}\r\n                <div className=\"flex-grow p-6\">\r\n                  <h2 className=\"mb-2 text-2xl font-semibold text-midnight-blue dark:text-secondary\">\r\n                    <Link\r\n                      to={`${ROUTES.BLOG}/${post.slug}`}\r\n                      className=\"transition-colors duration-300 hover:text-electric-blue dark:hover:text-highlight-yellow\"\r\n                    >\r\n                      {post.title}\r\n                    </Link>\r\n                  </h2>\r\n                  <p className=\"mb-3 text-sm text-gray-600 dark:text-gray-400\">\r\n                    By <span className=\"font-medium\">{post.author}</span> on{' '}\r\n                    {new Date(post.date).toLocaleDateString()}\r\n                  </p>\r\n                  <p className=\"mb-4 leading-relaxed text-gray-700 dark:text-gray-300 line-clamp-3\">\r\n                    {post.excerpt}\r\n                  </p>\r\n                  <Link\r\n                    to={`${ROUTES.BLOG}/${post.slug}`}\r\n                    className=\"font-semibold transition-colors duration-300 text-electric-blue dark:text-highlight-yellow hover:underline\"\r\n                    aria-label={`Read more about ${post.title}`}\r\n                  >\r\n                    Read More →\r\n                  </Link>\r\n                  {post.categories?.length > 0 && (\r\n                    <div className=\"flex flex-wrap gap-2 mt-4\">\r\n                      {post.categories.map(cat => (\r\n                        <span\r\n                          key={cat}\r\n                          className=\"px-2 py-1 text-xs font-medium rounded bg-electric-blue dark:bg-highlight-yellow bg-opacity-10 dark:bg-opacity-20 text-electric-blue dark:text-highlight-yellow\"\r\n                        >\r\n                          {cat}\r\n                        </span>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </article>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Pagination */}\r\n          {totalPages > 1 && (\r\n            <div\r\n              className=\"flex items-center justify-center mt-12 space-x-2\"\r\n              data-aos=\"fade-up\"\r\n              data-aos-duration=\"600\"\r\n            >\r\n              <button\r\n                onClick={handlePreviousPage}\r\n                disabled={currentPage === 1}\r\n                className={`px-4 py-2 bg-white dark:bg-dark-bg text-electric-blue dark:text-highlight-yellow rounded-l-md shadow-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ${\r\n                  currentPage === 1 ? 'opacity-50 cursor-not-allowed' : ''\r\n                }`}\r\n              >\r\n                Previous\r\n              </button>\r\n              <span className=\"px-4 py-2 font-medium text-gray-700 bg-gray-100 dark:bg-gray-700 dark:text-gray-300\">\r\n                Page {currentPage} of {totalPages}\r\n              </span>\r\n              <button\r\n                onClick={handleNextPage}\r\n                disabled={currentPage === totalPages}\r\n                className={`px-4 py-2 bg-white dark:bg-dark-bg text-electric-blue dark:text-highlight-yellow rounded-r-md shadow-sm hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ${\r\n                  currentPage === totalPages ? 'opacity-50 cursor-not-allowed' : ''\r\n                }`}\r\n              >\r\n                Next\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </PageWrapper>\r\n  );\r\n};\r\n\r\nexport default BlogPage;"],"names":["BLOG_POSTS_QUERY_KEY","POSTS_PER_PAGE","BlogPage","posts","isLoading","isError","error","useQuery","fetchBlogPosts","currentPage","setCurrentPage","useState","totalPages","paginatedPosts","handleNextPage","handlePreviousPage","renderStatusMessage","message","isErrorMsg","jsx","PageWrapper","Section","jsxs","post","Link","ROUTES","_a","cat"],"mappings":"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"}