var t,e,s,i,n,r,o,a,h,c,u,l,d,f,p,b,v,y,w,g,m,O,R,k,C,E,M,S,x,W,F,L,j,U,T=t=>{throw TypeError(t)},P=(t,e,s)=>e.has(t)||T("Cannot "+s),Q=(t,e,s)=>(P(t,e,"read from private field"),s?s.call(t):e.get(t)),D=(t,e,s)=>e.has(t)?T("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,s),I=(t,e,s,i)=>(P(t,e,"write to private field"),i?i.call(t,s):e.set(t,s),s),_=(t,e,s)=>(P(t,e,"access private method"),s);import{r as q}from"./react-vendor-DkqRgOk2.js";import"./index-CAaY3JIT.js";var A=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},H="undefined"==typeof window||"Deno"in globalThis;function B(){}function z(t){return"number"==typeof t&&t>=0&&t!==1/0}function N(t,e){return"function"==typeof t?t(e):t}function $(t,e){return"function"==typeof t?t(e):t}function G(t,e){if(t===e)return t;const s=K(t)&&K(e);if(s||V(t)&&V(e)){const i=s?t:Object.keys(t),n=i.length,r=s?e:Object.keys(e),o=r.length,a=s?[]:{};let h=0;for(let c=0;c<o;c++){const n=s?c:r[c];(!s&&i.includes(n)||s)&&void 0===t[n]&&void 0===e[n]?(a[n]=void 0,h++):(a[n]=G(t[n],e[n]),a[n]===t[n]&&void 0!==t[n]&&h++)}return n===o&&h===n?t:a}return e}function J(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(t[s]!==e[s])return!1;return!0}function K(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function V(t){if(!X(t))return!1;const e=t.constructor;if(void 0===e)return!0;const s=e.prototype;return!!X(s)&&(!!s.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(t)===Object.prototype)}function X(t){return"[object Object]"===Object.prototype.toString.call(t)}function Y(t,e,s){return"function"==typeof s.structuralSharing?s.structuralSharing(t,e):!1!==s.structuralSharing?G(t,e):e}var Z=new(i=class extends A{constructor(){super(),D(this,t),D(this,e),D(this,s),I(this,s,(t=>{if(!H&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}))}onSubscribe(){Q(this,e)||this.setEventListener(Q(this,s))}onUnsubscribe(){var t;this.hasListeners()||(null==(t=Q(this,e))||t.call(this),I(this,e,void 0))}setEventListener(t){var i;I(this,s,t),null==(i=Q(this,e))||i.call(this),I(this,e,t((t=>{"boolean"==typeof t?this.setFocused(t):this.onFocus()})))}setFocused(e){Q(this,t)!==e&&(I(this,t,e),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach((e=>{e(t)}))}isFocused(){var e;return"boolean"==typeof Q(this,t)?Q(this,t):"hidden"!==(null==(e=globalThis.document)?void 0:e.visibilityState)}},t=new WeakMap,e=new WeakMap,s=new WeakMap,i),tt=new(a=class extends A{constructor(){super(),D(this,n,!0),D(this,r),D(this,o),I(this,o,(t=>{if(!H&&window.addEventListener){const e=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",s)}}}))}onSubscribe(){Q(this,r)||this.setEventListener(Q(this,o))}onUnsubscribe(){var t;this.hasListeners()||(null==(t=Q(this,r))||t.call(this),I(this,r,void 0))}setEventListener(t){var e;I(this,o,t),null==(e=Q(this,r))||e.call(this),I(this,r,t(this.setOnline.bind(this)))}setOnline(t){Q(this,n)!==t&&(I(this,n,t),this.listeners.forEach((e=>{e(t)})))}isOnline(){return Q(this,n)}},n=new WeakMap,r=new WeakMap,o=new WeakMap,a);function et(){let t,e;const s=new Promise(((s,i)=>{t=s,e=i}));function i(t){Object.assign(s,t),delete s.resolve,delete s.reject}return s.status="pending",s.catch((()=>{})),s.resolve=e=>{i({status:"fulfilled",value:e}),t(e)},s.reject=t=>{i({status:"rejected",reason:t}),e(t)},s}var st=t=>setTimeout(t,0);var it=function(){let t=[],e=0,s=t=>{t()},i=t=>{t()},n=st;const r=i=>{e?t.push(i):n((()=>{s(i)}))};return{batch:r=>{let o;e++;try{o=r()}finally{e--,e||(()=>{const e=t;t=[],e.length&&n((()=>{i((()=>{e.forEach((t=>{s(t)}))}))}))})()}return o},batchCalls:t=>(...e)=>{r((()=>{t(...e)}))},schedule:r,setNotifyFunction:t=>{s=t},setBatchNotifyFunction:t=>{i=t},setScheduler:t=>{n=t}}}();function nt(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:(s=e.networkMode,"online"!==(s??"online")||tt.isOnline()?"fetching":"paused"),...void 0===t&&{error:null,status:"pending"}};var s}var rt=(U=class extends A{constructor(t,e){super(),D(this,k),D(this,h),D(this,c),D(this,u),D(this,l),D(this,d),D(this,f),D(this,p),D(this,b),D(this,v),D(this,y),D(this,w),D(this,g),D(this,m),D(this,O),D(this,R,new Set),this.options=e,I(this,h,t),I(this,b,null),I(this,p,et()),this.options.experimental_prefetchInRender||Q(this,p).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(Q(this,c).addObserver(this),ot(Q(this,c),this.options)?_(this,k,C).call(this):this.updateResult(),_(this,k,x).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return at(Q(this,c),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return at(Q(this,c),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,_(this,k,W).call(this),_(this,k,F).call(this),Q(this,c).removeObserver(this)}setOptions(t){const e=this.options,s=Q(this,c);if(this.options=Q(this,h).defaultQueryOptions(t),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof $(this.options.enabled,Q(this,c)))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");_(this,k,L).call(this),Q(this,c).setOptions(this.options),e._defaulted&&!J(this.options,e)&&Q(this,h).getQueryCache().notify({type:"observerOptionsUpdated",query:Q(this,c),observer:this});const i=this.hasListeners();i&&ht(Q(this,c),s,this.options,e)&&_(this,k,C).call(this),this.updateResult(),!i||Q(this,c)===s&&$(this.options.enabled,Q(this,c))===$(e.enabled,Q(this,c))&&N(this.options.staleTime,Q(this,c))===N(e.staleTime,Q(this,c))||_(this,k,E).call(this);const n=_(this,k,M).call(this);!i||Q(this,c)===s&&$(this.options.enabled,Q(this,c))===$(e.enabled,Q(this,c))&&n===Q(this,O)||_(this,k,S).call(this,n)}getOptimisticResult(t){const e=Q(this,h).getQueryCache().build(Q(this,h),t),s=this.createResult(e,t);return function(t,e){if(!J(t.getCurrentResult(),e))return!0;return!1}(this,s)&&(I(this,l,s),I(this,f,this.options),I(this,d,Q(this,c).state)),s}getCurrentResult(){return Q(this,l)}trackResult(t,e){return new Proxy(t,{get:(t,s)=>(this.trackProp(s),null==e||e(s),Reflect.get(t,s))})}trackProp(t){Q(this,R).add(t)}getCurrentQuery(){return Q(this,c)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=Q(this,h).defaultQueryOptions(t),s=Q(this,h).getQueryCache().build(Q(this,h),e);return s.fetch().then((()=>this.createResult(s,e)))}fetch(t){return _(this,k,C).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then((()=>(this.updateResult(),Q(this,l))))}createResult(t,e){var s;const i=Q(this,c),n=this.options,r=Q(this,l),o=Q(this,d),a=Q(this,f),h=t!==i?t.state:Q(this,u),{state:g}=t;let m,O={...g},R=!1;if(e._optimisticResults){const s=this.hasListeners(),r=!s&&ot(t,e),o=s&&ht(t,i,e,n);(r||o)&&(O={...O,...nt(g.data,t.options)}),"isRestoring"===e._optimisticResults&&(O.fetchStatus="idle")}let{error:k,errorUpdatedAt:C,status:E}=O;m=O.data;let M=!1;if(void 0!==e.placeholderData&&void 0===m&&"pending"===E){let t;(null==r?void 0:r.isPlaceholderData)&&e.placeholderData===(null==a?void 0:a.placeholderData)?(t=r.data,M=!0):t="function"==typeof e.placeholderData?e.placeholderData(null==(s=Q(this,w))?void 0:s.state.data,Q(this,w)):e.placeholderData,void 0!==t&&(E="success",m=Y(null==r?void 0:r.data,t,e),R=!0)}if(e.select&&void 0!==m&&!M)if(r&&m===(null==o?void 0:o.data)&&e.select===Q(this,v))m=Q(this,y);else try{I(this,v,e.select),m=e.select(m),m=Y(null==r?void 0:r.data,m,e),I(this,y,m),I(this,b,null)}catch(U){I(this,b,U)}Q(this,b)&&(k=Q(this,b),m=Q(this,y),C=Date.now(),E="error");const S="fetching"===O.fetchStatus,x="pending"===E,W="error"===E,F=x&&S,L=void 0!==m,j={status:E,fetchStatus:O.fetchStatus,isPending:x,isSuccess:"success"===E,isError:W,isInitialLoading:F,isLoading:F,data:m,dataUpdatedAt:O.dataUpdatedAt,error:k,errorUpdatedAt:C,failureCount:O.fetchFailureCount,failureReason:O.fetchFailureReason,errorUpdateCount:O.errorUpdateCount,isFetched:O.dataUpdateCount>0||O.errorUpdateCount>0,isFetchedAfterMount:O.dataUpdateCount>h.dataUpdateCount||O.errorUpdateCount>h.errorUpdateCount,isFetching:S,isRefetching:S&&!x,isLoadingError:W&&!L,isPaused:"paused"===O.fetchStatus,isPlaceholderData:R,isRefetchError:W&&L,isStale:ct(t,e),refetch:this.refetch,promise:Q(this,p)};if(this.options.experimental_prefetchInRender){const e=t=>{"error"===j.status?t.reject(j.error):void 0!==j.data&&t.resolve(j.data)},s=()=>{const t=I(this,p,j.promise=et());e(t)},n=Q(this,p);switch(n.status){case"pending":t.queryHash===i.queryHash&&e(n);break;case"fulfilled":"error"!==j.status&&j.data===n.value||s();break;case"rejected":"error"===j.status&&j.error===n.reason||s()}}return j}updateResult(){const t=Q(this,l),e=this.createResult(Q(this,c),this.options);if(I(this,d,Q(this,c).state),I(this,f,this.options),void 0!==Q(this,d).data&&I(this,w,Q(this,c)),J(e,t))return;I(this,l,e);_(this,k,j).call(this,{listeners:(()=>{if(!t)return!0;const{notifyOnChangeProps:e}=this.options,s="function"==typeof e?e():e;if("all"===s||!s&&!Q(this,R).size)return!0;const i=new Set(s??Q(this,R));return this.options.throwOnError&&i.add("error"),Object.keys(Q(this,l)).some((e=>{const s=e;return Q(this,l)[s]!==t[s]&&i.has(s)}))})()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&_(this,k,x).call(this)}},h=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap,d=new WeakMap,f=new WeakMap,p=new WeakMap,b=new WeakMap,v=new WeakMap,y=new WeakMap,w=new WeakMap,g=new WeakMap,m=new WeakMap,O=new WeakMap,R=new WeakMap,k=new WeakSet,C=function(t){_(this,k,L).call(this);let e=Q(this,c).fetch(this.options,t);return(null==t?void 0:t.throwOnError)||(e=e.catch(B)),e},E=function(){_(this,k,W).call(this);const t=N(this.options.staleTime,Q(this,c));if(H||Q(this,l).isStale||!z(t))return;const e=function(t,e){return Math.max(t+(e||0)-Date.now(),0)}(Q(this,l).dataUpdatedAt,t);I(this,g,setTimeout((()=>{Q(this,l).isStale||this.updateResult()}),e+1))},M=function(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(Q(this,c)):this.options.refetchInterval)??!1},S=function(t){_(this,k,F).call(this),I(this,O,t),!H&&!1!==$(this.options.enabled,Q(this,c))&&z(Q(this,O))&&0!==Q(this,O)&&I(this,m,setInterval((()=>{(this.options.refetchIntervalInBackground||Z.isFocused())&&_(this,k,C).call(this)}),Q(this,O)))},x=function(){_(this,k,E).call(this),_(this,k,S).call(this,_(this,k,M).call(this))},W=function(){Q(this,g)&&(clearTimeout(Q(this,g)),I(this,g,void 0))},F=function(){Q(this,m)&&(clearInterval(Q(this,m)),I(this,m,void 0))},L=function(){const t=Q(this,h).getQueryCache().build(Q(this,h),this.options);if(t===Q(this,c))return;const e=Q(this,c);I(this,c,t),I(this,u,t.state),this.hasListeners()&&(null==e||e.removeObserver(this),t.addObserver(this))},j=function(t){it.batch((()=>{t.listeners&&this.listeners.forEach((t=>{t(Q(this,l))})),Q(this,h).getQueryCache().notify({query:Q(this,c),type:"observerResultsUpdated"})}))},U);function ot(t,e){return function(t,e){return!1!==$(e.enabled,t)&&void 0===t.state.data&&!("error"===t.state.status&&!1===e.retryOnMount)}(t,e)||void 0!==t.state.data&&at(t,e,e.refetchOnMount)}function at(t,e,s){if(!1!==$(e.enabled,t)){const i="function"==typeof s?s(t):s;return"always"===i||!1!==i&&ct(t,e)}return!1}function ht(t,e,s,i){return(t!==e||!1===$(i.enabled,t))&&(!s.suspense||"error"!==t.state.status)&&ct(t,s)}function ct(t,e){return!1!==$(e.enabled,t)&&t.isStaleByTime(N(e.staleTime,t))}var ut=q.createContext(void 0),lt=q.createContext(!1);lt.Provider;var dt=q.createContext(function(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}()),ft=(t,e,s)=>e.fetchOptimistic(t).catch((()=>{s.clearReset()}));function pt(t,e,s){var i,n,r,o,a;const h=(t=>{const e=q.useContext(ut);if(t)return t;if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e})(s),c=q.useContext(lt),u=q.useContext(dt),l=h.defaultQueryOptions(t);null==(n=null==(i=h.getDefaultOptions().queries)?void 0:i._experimental_beforeQuery)||n.call(i,l),l._optimisticResults=c?"isRestoring":"optimistic",(t=>{const e=t.staleTime;t.suspense&&(t.staleTime="function"==typeof e?(...t)=>Math.max(e(...t),1e3):Math.max(e??1e3,1e3),"number"==typeof t.gcTime&&(t.gcTime=Math.max(t.gcTime,1e3)))})(l),((t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))})(l,u),(t=>{q.useEffect((()=>{t.clearReset()}),[t])})(u);const d=!h.getQueryCache().get(l.queryHash),[f]=q.useState((()=>new e(h,l))),p=f.getOptimisticResult(l),b=!c&&!1!==t.subscribed;if(q.useSyncExternalStore(q.useCallback((t=>{const e=b?f.subscribe(it.batchCalls(t)):B;return f.updateResult(),e}),[f,b]),(()=>f.getCurrentResult()),(()=>f.getCurrentResult())),q.useEffect((()=>{f.setOptions(l)}),[l,f]),((t,e)=>(null==t?void 0:t.suspense)&&e.isPending)(l,p))throw ft(l,f,u);if((({result:t,errorResetBoundary:e,throwOnError:s,query:i,suspense:n})=>t.isError&&!e.isReset()&&!t.isFetching&&i&&(n&&void 0===t.data||function(t,e){return"function"==typeof t?t(...e):!!t}(s,[t.error,i])))({result:p,errorResetBoundary:u,throwOnError:l.throwOnError,query:h.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw p.error;if(null==(o=null==(r=h.getDefaultOptions().queries)?void 0:r._experimental_afterQuery)||o.call(r,l,p),l.experimental_prefetchInRender&&!H&&((t,e)=>t.isLoading&&t.isFetching&&!e)(p,c)){const t=d?ft(l,f,u):null==(a=h.getQueryCache().get(l.queryHash))?void 0:a.promise;null==t||t.catch(B).finally((()=>{f.updateResult()}))}return l.notifyOnChangeProps?p:f.trackResult(p)}function bt(t,e){return pt(t,rt,e)}async function vt(){const t=await fetch("/api/blog");if(!t.ok)throw new Error("Failed to fetch blog posts");return t.json()}async function yt(){try{const t=await fetch("/api/services");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);return await t.json()}catch(t){throw console.error("Error fetching services:",t),t}}export{vt as a,yt as f,bt as u};
//# sourceMappingURL=index-BnoORXM5.js.map
